#!/usr/bin/env node
import zr from"readline";import Qr from"events";import{fileURLToPath as Zr}from"node:url";import{dirname as Xr}from"node:path";import $t from"fs";import ei from"constants";import ti from"stream";import ri from"util";import ii from"assert";import A from"path";import{console as ae}from"node:inspector";var ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ot(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ce={},le,Ft;function J(){if(Ft)return le;Ft=1;const{FORCE_COLOR:e,NODE_DISABLE_COLORS:n,TERM:a}=process.env,i={enabled:!n&&a!=="dumb"&&e!=="0",reset:t(0,0),bold:t(1,22),dim:t(2,22),italic:t(3,23),underline:t(4,24),inverse:t(7,27),hidden:t(8,28),strikethrough:t(9,29),black:t(30,39),red:t(31,39),green:t(32,39),yellow:t(33,39),blue:t(34,39),magenta:t(35,39),cyan:t(36,39),white:t(37,39),gray:t(90,39),grey:t(90,39),bgBlack:t(40,49),bgRed:t(41,49),bgGreen:t(42,49),bgYellow:t(43,49),bgBlue:t(44,49),bgMagenta:t(45,49),bgCyan:t(46,49),bgWhite:t(47,49)};function c(y,l){let o=0,u,h="",d="";for(;o<y.length;o++)u=y[o],h+=u.open,d+=u.close,l.includes(u.close)&&(l=l.replace(u.rgx,u.close+u.open));return h+l+d}function m(y,l){let o={has:y,keys:l};return o.reset=i.reset.bind(o),o.bold=i.bold.bind(o),o.dim=i.dim.bind(o),o.italic=i.italic.bind(o),o.underline=i.underline.bind(o),o.inverse=i.inverse.bind(o),o.hidden=i.hidden.bind(o),o.strikethrough=i.strikethrough.bind(o),o.black=i.black.bind(o),o.red=i.red.bind(o),o.green=i.green.bind(o),o.yellow=i.yellow.bind(o),o.blue=i.blue.bind(o),o.magenta=i.magenta.bind(o),o.cyan=i.cyan.bind(o),o.white=i.white.bind(o),o.gray=i.gray.bind(o),o.grey=i.grey.bind(o),o.bgBlack=i.bgBlack.bind(o),o.bgRed=i.bgRed.bind(o),o.bgGreen=i.bgGreen.bind(o),o.bgYellow=i.bgYellow.bind(o),o.bgBlue=i.bgBlue.bind(o),o.bgMagenta=i.bgMagenta.bind(o),o.bgCyan=i.bgCyan.bind(o),o.bgWhite=i.bgWhite.bind(o),o}function t(y,l){let o={open:`\x1B[${y}m`,close:`\x1B[${l}m`,rgx:new RegExp(`\\x1b\\[${l}m`,"g")};return function(u){return this!==void 0&&this.has!==void 0?(this.has.includes(y)||(this.has.push(y),this.keys.push(o)),u===void 0?this:i.enabled?c(this.keys,u+""):u+""):u===void 0?m([y],[o]):i.enabled?c([o],u+""):u+""}}return le=i,le}var he,qt;function ni(){return qt||(qt=1,he=(e,n)=>{if(!(e.meta&&e.name!=="escape")){if(e.ctrl){if(e.name==="a")return"first";if(e.name==="c"||e.name==="d")return"abort";if(e.name==="e")return"last";if(e.name==="g")return"reset"}if(n){if(e.name==="j")return"down";if(e.name==="k")return"up"}return e.name==="return"||e.name==="enter"?"submit":e.name==="backspace"?"delete":e.name==="delete"?"deleteForward":e.name==="abort"?"abort":e.name==="escape"?"exit":e.name==="tab"?"next":e.name==="pagedown"?"nextPage":e.name==="pageup"?"prevPage":e.name==="home"?"home":e.name==="end"?"end":e.name==="up"?"up":e.name==="down"?"down":e.name==="right"?"right":e.name==="left"?"left":!1}}),he}var de,Dt;function fe(){return Dt||(Dt=1,de=e=>{const n=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),a=new RegExp(n,"g");return typeof e=="string"?e.replace(a,""):e}),de}var me,Rt;function W(){if(Rt)return me;Rt=1;const e="\x1B",n=`${e}[`,a="\x07",i={to(t,y){return y?`${n}${y+1};${t+1}H`:`${n}${t+1}G`},move(t,y){let l="";return t<0?l+=`${n}${-t}D`:t>0&&(l+=`${n}${t}C`),y<0?l+=`${n}${-y}A`:y>0&&(l+=`${n}${y}B`),l},up:(t=1)=>`${n}${t}A`,down:(t=1)=>`${n}${t}B`,forward:(t=1)=>`${n}${t}C`,backward:(t=1)=>`${n}${t}D`,nextLine:(t=1)=>`${n}E`.repeat(t),prevLine:(t=1)=>`${n}F`.repeat(t),left:`${n}G`,hide:`${n}?25l`,show:`${n}?25h`,save:`${e}7`,restore:`${e}8`},c={up:(t=1)=>`${n}S`.repeat(t),down:(t=1)=>`${n}T`.repeat(t)},m={screen:`${n}2J`,up:(t=1)=>`${n}1J`.repeat(t),down:(t=1)=>`${n}J`.repeat(t),line:`${n}2K`,lineEnd:`${n}K`,lineStart:`${n}1K`,lines(t){let y="";for(let l=0;l<t;l++)y+=this.line+(l<t-1?i.up():"");return t&&(y+=i.left),y}};return me={cursor:i,scroll:c,erase:m,beep:a},me}var pe,Mt;function si(){if(Mt)return pe;Mt=1;const e=fe(),{erase:n,cursor:a}=W(),i=c=>[...e(c)].length;return pe=function(c,m){if(!m)return n.line+a.to(0);let t=0;const y=c.split(/\r?\n/);for(let l of y)t+=1+Math.floor(Math.max(i(l)-1,0)/m);return n.lines(t)},pe}var ye,Tt;function Ct(){if(Tt)return ye;Tt=1;const e={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},n={arrowUp:e.arrowUp,arrowDown:e.arrowDown,arrowLeft:e.arrowLeft,arrowRight:e.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"};return ye=process.platform==="win32"?n:e,ye}var ve,_t;function oi(){if(_t)return ve;_t=1;const e=J(),n=Ct(),a=Object.freeze({password:{scale:1,render:l=>"*".repeat(l.length)},emoji:{scale:2,render:l=>"\u{1F603}".repeat(l.length)},invisible:{scale:0,render:l=>""},default:{scale:1,render:l=>`${l}`}}),i=l=>a[l]||a.default,c=Object.freeze({aborted:e.red(n.cross),done:e.green(n.tick),exited:e.yellow(n.cross),default:e.cyan("?")});return ve={styles:a,render:i,symbols:c,symbol:(l,o,u)=>o?c.aborted:u?c.exited:l?c.done:c.default,delimiter:l=>e.gray(l?n.ellipsis:n.pointerSmall),item:(l,o)=>e.gray(l?o?n.pointerSmall:"+":n.line)},ve}var ge,It;function ai(){if(It)return ge;It=1;const e=fe();return ge=function(n,a){let i=String(e(n)||"").split(/\r?\n/);return a?i.map(c=>Math.ceil(c.length/a)).reduce((c,m)=>c+m):i.length},ge}var we,jt;function ui(){return jt||(jt=1,we=(e,n={})=>{const a=Number.isSafeInteger(parseInt(n.margin))?new Array(parseInt(n.margin)).fill(" ").join(""):n.margin||"",i=n.width;return(e||"").split(/\r?\n/g).map(c=>c.split(/\s+/g).reduce((m,t)=>(t.length+a.length>=i||m[m.length-1].length+t.length+1<i?m[m.length-1]+=` ${t}`:m.push(`${a}${t}`),m),[a]).join(`
`)).join(`
`)}),we}var Se,Nt;function ci(){return Nt||(Nt=1,Se=(e,n,a)=>{a=a||n;let i=Math.min(n-a,e-Math.floor(a/2));i<0&&(i=0);let c=Math.min(i+a,n);return{startIndex:i,endIndex:c}}),Se}var be,Lt;function Y(){return Lt||(Lt=1,be={action:ni(),clear:si(),style:oi(),strip:fe(),figures:Ct(),lines:ai(),wrap:ui(),entriesToDisplay:ci()}),be}var xe,At;function K(){if(At)return xe;At=1;const e=zr,{action:n}=Y(),a=Qr,{beep:i,cursor:c}=W(),m=J();class t extends a{constructor(l={}){super(),this.firstRender=!0,this.in=l.stdin||process.stdin,this.out=l.stdout||process.stdout,this.onRender=(l.onRender||(()=>{})).bind(this);const o=e.createInterface({input:this.in,escapeCodeTimeout:50});e.emitKeypressEvents(this.in,o),this.in.isTTY&&this.in.setRawMode(!0);const u=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,h=(d,s)=>{let f=n(s,u);f===!1?this._&&this._(d,s):typeof this[f]=="function"?this[f](s):this.bell()};this.close=()=>{this.out.write(c.show),this.in.removeListener("keypress",h),this.in.isTTY&&this.in.setRawMode(!1),o.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",h)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(i)}render(){this.onRender(m),this.firstRender&&(this.firstRender=!1)}}return xe=t,xe}var ke,Jt;function li(){if(Jt)return ke;Jt=1;const e=J(),n=K(),{erase:a,cursor:i}=W(),{style:c,clear:m,lines:t,figures:y}=Y();class l extends n{constructor(u={}){super(u),this.transform=c.render(u.style),this.scale=this.transform.scale,this.msg=u.message,this.initial=u.initial||"",this.validator=u.validate||(()=>!0),this.value="",this.errorMsg=u.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=m("",this.out.columns),this.render()}set value(u){!u&&this.initial?(this.placeholder=!0,this.rendered=e.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(u)),this._value=u,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let u=await this.validator(this.value);typeof u=="string"&&(this.errorMsg=u,u=!1),this.error=!u}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(u){this.placeholder||(this.cursor=this.cursor+u,this.cursorOffset+=u)}_(u,h){let d=this.value.slice(0,this.cursor),s=this.value.slice(this.cursor);this.value=`${d}${u}${s}`,this.red=!1,this.cursor=this.placeholder?0:d.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let u=this.value.slice(0,this.cursor-1),h=this.value.slice(this.cursor);this.value=`${u}${h}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let u=this.value.slice(0,this.cursor),h=this.value.slice(this.cursor+1);this.value=`${u}${h}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(i.down(t(this.outputError,this.out.columns)-1)+m(this.outputError,this.out.columns)),this.out.write(m(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[c.symbol(this.done,this.aborted),e.bold(this.msg),c.delimiter(this.done),this.red?e.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((u,h,d)=>u+`
${d?" ":y.pointerSmall} ${e.red().italic(h)}`,"")),this.out.write(a.line+i.to(0)+this.outputText+i.save+this.outputError+i.restore+i.move(this.cursorOffset,0)))}}return ke=l,ke}var Ee,Wt;function hi(){if(Wt)return Ee;Wt=1;const e=J(),n=K(),{style:a,clear:i,figures:c,wrap:m,entriesToDisplay:t}=Y(),{cursor:y}=W();class l extends n{constructor(u={}){super(u),this.msg=u.message,this.hint=u.hint||"- Use arrow-keys. Return to submit.",this.warn=u.warn||"- This option is disabled",this.cursor=u.initial||0,this.choices=u.choices.map((h,d)=>(typeof h=="string"&&(h={title:h,value:d}),{title:h&&(h.title||h.value||h),value:h&&(h.value===void 0?d:h.value),description:h&&h.description,selected:h&&h.selected,disabled:h&&h.disabled})),this.optionsPerPage=u.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=i("",this.out.columns),this.render()}moveCursor(u){this.cursor=u,this.value=this.choices[u].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(u,h){if(u===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(y.hide):this.out.write(i(this.outputText,this.out.columns)),super.render();let{startIndex:u,endIndex:h}=t(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[a.symbol(this.done,this.aborted),e.bold(this.msg),a.delimiter(!1),this.done?this.selection.title:this.selection.disabled?e.yellow(this.warn):e.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let d=u;d<h;d++){let s,f,v="",r=this.choices[d];d===u&&u>0?f=c.arrowUp:d===h-1&&h<this.choices.length?f=c.arrowDown:f=" ",r.disabled?(s=this.cursor===d?e.gray().underline(r.title):e.strikethrough().gray(r.title),f=(this.cursor===d?e.bold().gray(c.pointer)+" ":"  ")+f):(s=this.cursor===d?e.cyan().underline(r.title):r.title,f=(this.cursor===d?e.cyan(c.pointer)+" ":"  ")+f,r.description&&this.cursor===d&&(v=` - ${r.description}`,(f.length+s.length+v.length>=this.out.columns||r.description.split(/\r?\n/).length>1)&&(v=`
`+m(r.description,{margin:3,width:this.out.columns})))),this.outputText+=`${f} ${s}${e.gray(v)}
`}}this.out.write(this.outputText)}}return Ee=l,Ee}var Pe,Yt;function di(){if(Yt)return Pe;Yt=1;const e=J(),n=K(),{style:a,clear:i}=Y(),{cursor:c,erase:m}=W();class t extends n{constructor(l={}){super(l),this.msg=l.message,this.value=!!l.initial,this.active=l.active||"on",this.inactive=l.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(l,o){if(l===" ")this.value=!this.value;else if(l==="1")this.value=!0;else if(l==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(c.hide):this.out.write(i(this.outputText,this.out.columns)),super.render(),this.outputText=[a.symbol(this.done,this.aborted),e.bold(this.msg),a.delimiter(this.done),this.value?this.inactive:e.cyan().underline(this.inactive),e.gray("/"),this.value?e.cyan().underline(this.active):this.active].join(" "),this.out.write(m.line+c.to(0)+this.outputText))}}return Pe=t,Pe}var $e,Ut;function V(){if(Ut)return $e;Ut=1;class e{constructor({token:a,date:i,parts:c,locales:m}){this.token=a,this.date=i||new Date,this.parts=c||[this],this.locales=m||{}}up(){}down(){}next(){const a=this.parts.indexOf(this);return this.parts.find((i,c)=>c>a&&i instanceof e)}setTo(a){}prev(){let a=[].concat(this.parts).reverse();const i=a.indexOf(this);return a.find((c,m)=>m>i&&c instanceof e)}toString(){return String(this.date)}}return $e=e,$e}var Oe,Ht;function fi(){if(Ht)return Oe;Ht=1;const e=V();class n extends e{constructor(i={}){super(i)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let i=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?i.toUpperCase():i}}return Oe=n,Oe}var Fe,Bt;function mi(){if(Bt)return Fe;Bt=1;const e=V(),n=i=>(i=i%10,i===1?"st":i===2?"nd":i===3?"rd":"th");class a extends e{constructor(c={}){super(c)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(c){this.date.setDate(parseInt(c.substr(-2)))}toString(){let c=this.date.getDate(),m=this.date.getDay();return this.token==="DD"?String(c).padStart(2,"0"):this.token==="Do"?c+n(c):this.token==="d"?m+1:this.token==="ddd"?this.locales.weekdaysShort[m]:this.token==="dddd"?this.locales.weekdays[m]:c}}return Fe=a,Fe}var qe,Vt;function pi(){if(Vt)return qe;Vt=1;const e=V();class n extends e{constructor(i={}){super(i)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(i){this.date.setHours(parseInt(i.substr(-2)))}toString(){let i=this.date.getHours();return/h/.test(this.token)&&(i=i%12||12),this.token.length>1?String(i).padStart(2,"0"):i}}return qe=n,qe}var De,Gt;function yi(){if(Gt)return De;Gt=1;const e=V();class n extends e{constructor(i={}){super(i)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(i){this.date.setMilliseconds(parseInt(i.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}return De=n,De}var Re,Kt;function vi(){if(Kt)return Re;Kt=1;const e=V();class n extends e{constructor(i={}){super(i)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(i){this.date.setMinutes(parseInt(i.substr(-2)))}toString(){let i=this.date.getMinutes();return this.token.length>1?String(i).padStart(2,"0"):i}}return Re=n,Re}var Me,zt;function gi(){if(zt)return Me;zt=1;const e=V();class n extends e{constructor(i={}){super(i)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(i){i=parseInt(i.substr(-2))-1,this.date.setMonth(i<0?0:i)}toString(){let i=this.date.getMonth(),c=this.token.length;return c===2?String(i+1).padStart(2,"0"):c===3?this.locales.monthsShort[i]:c===4?this.locales.months[i]:String(i+1)}}return Me=n,Me}var Te,Qt;function wi(){if(Qt)return Te;Qt=1;const e=V();class n extends e{constructor(i={}){super(i)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(i){this.date.setSeconds(parseInt(i.substr(-2)))}toString(){let i=this.date.getSeconds();return this.token.length>1?String(i).padStart(2,"0"):i}}return Te=n,Te}var Ce,Zt;function Si(){if(Zt)return Ce;Zt=1;const e=V();class n extends e{constructor(i={}){super(i)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(i){this.date.setFullYear(i.substr(-4))}toString(){let i=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?i.substr(-2):i}}return Ce=n,Ce}var _e,Xt;function bi(){return Xt||(Xt=1,_e={DatePart:V(),Meridiem:fi(),Day:mi(),Hours:pi(),Milliseconds:yi(),Minutes:vi(),Month:gi(),Seconds:wi(),Year:Si()}),_e}var Ie,er;function xi(){if(er)return Ie;er=1;const e=J(),n=K(),{style:a,clear:i,figures:c}=Y(),{erase:m,cursor:t}=W(),{DatePart:y,Meridiem:l,Day:o,Hours:u,Milliseconds:h,Minutes:d,Month:s,Seconds:f,Year:v}=bi(),r=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,p={1:({token:b})=>b.replace(/\\(.)/g,"$1"),2:b=>new o(b),3:b=>new s(b),4:b=>new v(b),5:b=>new l(b),6:b=>new u(b),7:b=>new d(b),8:b=>new f(b),9:b=>new h(b)},S={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class w extends n{constructor(g={}){super(g),this.msg=g.message,this.cursor=0,this.typed="",this.locales=Object.assign(S,g.locales),this._date=g.initial||new Date,this.errorMsg=g.error||"Please Enter A Valid Value",this.validator=g.validate||(()=>!0),this.mask=g.mask||"YYYY-MM-DD HH:mm:ss",this.clear=i("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(g){g&&this._date.setTime(g.getTime())}set mask(g){let x;for(this.parts=[];x=r.exec(g);){let E=x.shift(),P=x.findIndex(O=>O!=null);this.parts.push(P in p?p[P]({token:x[P]||E,date:this.date,parts:this.parts,locales:this.locales}):x[P]||E)}let k=this.parts.reduce((E,P)=>(typeof P=="string"&&typeof E[E.length-1]=="string"?E[E.length-1]+=P:E.push(P),E),[]);this.parts.splice(0),this.parts.push(...k),this.reset()}moveCursor(g){this.typed="",this.cursor=g,this.fire()}reset(){this.moveCursor(this.parts.findIndex(g=>g instanceof y)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let g=await this.validator(this.value);typeof g=="string"&&(this.errorMsg=g,g=!1),this.error=!g}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let g=this.parts[this.cursor].prev();if(g==null)return this.bell();this.moveCursor(this.parts.indexOf(g)),this.render()}right(){let g=this.parts[this.cursor].next();if(g==null)return this.bell();this.moveCursor(this.parts.indexOf(g)),this.render()}next(){let g=this.parts[this.cursor].next();this.moveCursor(g?this.parts.indexOf(g):this.parts.findIndex(x=>x instanceof y)),this.render()}_(g){/\d/.test(g)&&(this.typed+=g,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(t.hide):this.out.write(i(this.outputText,this.out.columns)),super.render(),this.outputText=[a.symbol(this.done,this.aborted),e.bold(this.msg),a.delimiter(!1),this.parts.reduce((g,x,k)=>g.concat(k===this.cursor&&!this.done?e.cyan().underline(x.toString()):x),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((g,x,k)=>g+`
${k?" ":c.pointerSmall} ${e.red().italic(x)}`,"")),this.out.write(m.line+t.to(0)+this.outputText))}}return Ie=w,Ie}var je,tr;function ki(){if(tr)return je;tr=1;const e=J(),n=K(),{cursor:a,erase:i}=W(),{style:c,figures:m,clear:t,lines:y}=Y(),l=/[0-9]/,o=d=>d!==void 0,u=(d,s)=>{let f=Math.pow(10,s);return Math.round(d*f)/f};class h extends n{constructor(s={}){super(s),this.transform=c.render(s.style),this.msg=s.message,this.initial=o(s.initial)?s.initial:"",this.float=!!s.float,this.round=s.round||2,this.inc=s.increment||1,this.min=o(s.min)?s.min:-1/0,this.max=o(s.max)?s.max:1/0,this.errorMsg=s.error||"Please Enter A Valid Value",this.validator=s.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(s){!s&&s!==0?(this.placeholder=!0,this.rendered=e.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${u(s,this.round)}`),this._value=u(s,this.round)),this.fire()}get value(){return this._value}parse(s){return this.float?parseFloat(s):parseInt(s)}valid(s){return s==="-"||s==="."&&this.float||l.test(s)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let s=this.value;this.value=s!==""?s:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let s=await this.validator(this.value);typeof s=="string"&&(this.errorMsg=s,s=!1),this.error=!s}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let s=this.value;this.value=s!==""?s:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let s=this.value.toString();if(s.length===0)return this.bell();this.value=this.parse(s=s.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(s,f){if(!this.valid(s))return this.bell();const v=Date.now();if(v-this.lastHit>1e3&&(this.typed=""),this.typed+=s,this.lastHit=v,this.color="cyan",s===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(a.down(y(this.outputError,this.out.columns)-1)+t(this.outputError,this.out.columns)),this.out.write(t(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[c.symbol(this.done,this.aborted),e.bold(this.msg),c.delimiter(this.done),!this.done||!this.done&&!this.placeholder?e[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((s,f,v)=>s+`
${v?" ":m.pointerSmall} ${e.red().italic(f)}`,"")),this.out.write(i.line+a.to(0)+this.outputText+a.save+this.outputError+a.restore))}}return je=h,je}var Ne,rr;function ir(){if(rr)return Ne;rr=1;const e=J(),{cursor:n}=W(),a=K(),{clear:i,figures:c,style:m,wrap:t,entriesToDisplay:y}=Y();class l extends a{constructor(u={}){super(u),this.msg=u.message,this.cursor=u.cursor||0,this.scrollIndex=u.cursor||0,this.hint=u.hint||"",this.warn=u.warn||"- This option is disabled -",this.minSelected=u.min,this.showMinError=!1,this.maxChoices=u.max,this.instructions=u.instructions,this.optionsPerPage=u.optionsPerPage||10,this.value=u.choices.map((h,d)=>(typeof h=="string"&&(h={title:h,value:d}),{title:h&&(h.title||h.value||h),description:h&&h.description,value:h&&(h.value===void 0?d:h.value),selected:h&&h.selected,disabled:h&&h.disabled})),this.clear=i("",this.out.columns),u.overrideRender||this.render()}reset(){this.value.map(u=>!u.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(u=>u.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){const u=this.value.filter(h=>h.selected);this.minSelected&&u.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(u=>u.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const u=this.value[this.cursor];if(u.selected)u.selected=!1,this.render();else{if(u.disabled||this.value.filter(h=>h.selected).length>=this.maxChoices)return this.bell();u.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();const u=!this.value[this.cursor].selected;this.value.filter(h=>!h.disabled).forEach(h=>h.selected=u),this.render()}_(u,h){if(u===" ")this.handleSpaceToggle();else if(u==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${c.arrowUp}/${c.arrowDown}: Highlight option
    ${c.arrowLeft}/${c.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(u,h,d,s){const f=(h.selected?e.green(c.radioOn):c.radioOff)+" "+s+" ";let v,r;return h.disabled?v=u===d?e.gray().underline(h.title):e.strikethrough().gray(h.title):(v=u===d?e.cyan().underline(h.title):h.title,u===d&&h.description&&(r=` - ${h.description}`,(f.length+v.length+r.length>=this.out.columns||h.description.split(/\r?\n/).length>1)&&(r=`
`+t(h.description,{margin:f.length,width:this.out.columns})))),f+v+e.gray(r||"")}paginateOptions(u){if(u.length===0)return e.red("No matches for this query.");let{startIndex:h,endIndex:d}=y(this.cursor,u.length,this.optionsPerPage),s,f=[];for(let v=h;v<d;v++)v===h&&h>0?s=c.arrowUp:v===d-1&&d<u.length?s=c.arrowDown:s=" ",f.push(this.renderOption(this.cursor,u[v],v,s));return`
`+f.join(`
`)}renderOptions(u){return this.done?"":this.paginateOptions(u)}renderDoneOrInstructions(){if(this.done)return this.value.filter(h=>h.selected).map(h=>h.title).join(", ");const u=[e.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&u.push(e.yellow(this.warn)),u.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(n.hide),super.render();let u=[m.symbol(this.done,this.aborted),e.bold(this.msg),m.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(u+=e.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),u+=this.renderOptions(this.value),this.out.write(this.clear+u),this.clear=i(u,this.out.columns)}}return Ne=l,Ne}var Le,nr;function Ei(){if(nr)return Le;nr=1;const e=J(),n=K(),{erase:a,cursor:i}=W(),{style:c,clear:m,figures:t,wrap:y,entriesToDisplay:l}=Y(),o=(s,f)=>s[f]&&(s[f].value||s[f].title||s[f]),u=(s,f)=>s[f]&&(s[f].title||s[f].value||s[f]),h=(s,f)=>{const v=s.findIndex(r=>r.value===f||r.title===f);return v>-1?v:void 0};class d extends n{constructor(f={}){super(f),this.msg=f.message,this.suggest=f.suggest,this.choices=f.choices,this.initial=typeof f.initial=="number"?f.initial:h(f.choices,f.initial),this.select=this.initial||f.cursor||0,this.i18n={noMatches:f.noMatches||"no matches found"},this.fallback=f.fallback||this.initial,this.clearFirst=f.clearFirst||!1,this.suggestions=[],this.input="",this.limit=f.limit||10,this.cursor=0,this.transform=c.render(f.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=m("",this.out.columns),this.complete(this.render),this.render()}set fallback(f){this._fb=Number.isSafeInteger(parseInt(f))?parseInt(f):f}get fallback(){let f;return typeof this._fb=="number"?f=this.choices[this._fb]:typeof this._fb=="string"&&(f={title:this._fb}),f||this._fb||{title:this.i18n.noMatches}}moveSelect(f){this.select=f,this.suggestions.length>0?this.value=o(this.suggestions,f):this.value=this.fallback.value,this.fire()}async complete(f){const v=this.completing=this.suggest(this.input,this.choices),r=await v;if(this.completing!==v)return;this.suggestions=r.map((S,w,b)=>({title:u(b,w),value:o(b,w),description:S.description})),this.completing=!1;const p=Math.max(r.length-1,0);this.moveSelect(Math.min(p,this.select)),f&&f()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(f,v){let r=this.input.slice(0,this.cursor),p=this.input.slice(this.cursor);this.input=`${r}${f}${p}`,this.cursor=r.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let f=this.input.slice(0,this.cursor-1),v=this.input.slice(this.cursor);this.input=`${f}${v}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let f=this.input.slice(0,this.cursor),v=this.input.slice(this.cursor+1);this.input=`${f}${v}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(f,v,r,p){let S,w=r?t.arrowUp:p?t.arrowDown:" ",b=v?e.cyan().underline(f.title):f.title;return w=(v?e.cyan(t.pointer)+" ":"  ")+w,f.description&&(S=` - ${f.description}`,(w.length+b.length+S.length>=this.out.columns||f.description.split(/\r?\n/).length>1)&&(S=`
`+y(f.description,{margin:3,width:this.out.columns}))),w+" "+b+e.gray(S||"")}render(){if(this.closed)return;this.firstRender?this.out.write(i.hide):this.out.write(m(this.outputText,this.out.columns)),super.render();let{startIndex:f,endIndex:v}=l(this.select,this.choices.length,this.limit);if(this.outputText=[c.symbol(this.done,this.aborted,this.exited),e.bold(this.msg),c.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const r=this.suggestions.slice(f,v).map((p,S)=>this.renderOption(p,this.select===S+f,S===0&&f>0,S+f===v-1&&v<this.choices.length)).join(`
`);this.outputText+=`
`+(r||e.gray(this.fallback.title))}this.out.write(a.line+i.to(0)+this.outputText)}}return Le=d,Le}var Ae,sr;function Pi(){if(sr)return Ae;sr=1;const e=J(),{cursor:n}=W(),a=ir(),{clear:i,style:c,figures:m}=Y();class t extends a{constructor(l={}){l.overrideRender=!0,super(l),this.inputValue="",this.clear=i("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(l=>l.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const l=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(u=>this.inputValue?!!(typeof u.title=="string"&&u.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof u.value=="string"&&u.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);const o=this.filteredOptions.findIndex(u=>u===l);this.cursor=o<0?0:o,this.render()}handleSpaceToggle(){const l=this.filteredOptions[this.cursor];if(l.selected)l.selected=!1,this.render();else{if(l.disabled||this.value.filter(o=>o.selected).length>=this.maxChoices)return this.bell();l.selected=!0,this.render()}}handleInputChange(l){this.inputValue=this.inputValue+l,this.updateFilteredOptions()}_(l,o){l===" "?this.handleSpaceToggle():this.handleInputChange(l)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${m.arrowUp}/${m.arrowDown}: Highlight option
    ${m.arrowLeft}/${m.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:e.gray("Enter something to filter")}
`}renderOption(l,o,u){let h;return o.disabled?h=l===u?e.gray().underline(o.title):e.strikethrough().gray(o.title):h=l===u?e.cyan().underline(o.title):o.title,(o.selected?e.green(m.radioOn):m.radioOff)+"  "+h}renderDoneOrInstructions(){if(this.done)return this.value.filter(o=>o.selected).map(o=>o.title).join(", ");const l=[e.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&l.push(e.yellow(this.warn)),l.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(n.hide),super.render();let l=[c.symbol(this.done,this.aborted),e.bold(this.msg),c.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(l+=e.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),l+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+l),this.clear=i(l,this.out.columns)}}return Ae=t,Ae}var Je,or;function $i(){if(or)return Je;or=1;const e=J(),n=K(),{style:a,clear:i}=Y(),{erase:c,cursor:m}=W();class t extends n{constructor(l={}){super(l),this.msg=l.message,this.value=l.initial,this.initialValue=!!l.initial,this.yesMsg=l.yes||"yes",this.yesOption=l.yesOption||"(Y/n)",this.noMsg=l.no||"no",this.noOption=l.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(l,o){return l.toLowerCase()==="y"?(this.value=!0,this.submit()):l.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(m.hide):this.out.write(i(this.outputText,this.out.columns)),super.render(),this.outputText=[a.symbol(this.done,this.aborted),e.bold(this.msg),a.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:e.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(c.line+m.to(0)+this.outputText))}}return Je=t,Je}var We,ar;function Oi(){return ar||(ar=1,We={TextPrompt:li(),SelectPrompt:hi(),TogglePrompt:di(),DatePrompt:xi(),NumberPrompt:ki(),MultiselectPrompt:ir(),AutocompletePrompt:Ei(),AutocompleteMultiselectPrompt:Pi(),ConfirmPrompt:$i()}),We}var ur;function Fi(){return ur||(ur=1,function(e){const n=e,a=Oi(),i=t=>t;function c(t,y,l={}){return new Promise((o,u)=>{const h=new a[t](y),d=l.onAbort||i,s=l.onSubmit||i,f=l.onExit||i;h.on("state",y.onState||i),h.on("submit",v=>o(s(v))),h.on("exit",v=>o(f(v))),h.on("abort",v=>u(d(v)))})}n.text=t=>c("TextPrompt",t),n.password=t=>(t.style="password",n.text(t)),n.invisible=t=>(t.style="invisible",n.text(t)),n.number=t=>c("NumberPrompt",t),n.date=t=>c("DatePrompt",t),n.confirm=t=>c("ConfirmPrompt",t),n.list=t=>{const y=t.separator||",";return c("TextPrompt",t,{onSubmit:l=>l.split(y).map(o=>o.trim())})},n.toggle=t=>c("TogglePrompt",t),n.select=t=>c("SelectPrompt",t),n.multiselect=t=>{t.choices=[].concat(t.choices||[]);const y=l=>l.filter(o=>o.selected).map(o=>o.value);return c("MultiselectPrompt",t,{onAbort:y,onSubmit:y})},n.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);const y=l=>l.filter(o=>o.selected).map(o=>o.value);return c("AutocompleteMultiselectPrompt",t,{onAbort:y,onSubmit:y})};const m=(t,y)=>Promise.resolve(y.filter(l=>l.title.slice(0,t.length).toLowerCase()===t.toLowerCase()));n.autocomplete=t=>(t.suggest=t.suggest||m,t.choices=[].concat(t.choices||[]),c("AutocompletePrompt",t))}(ce)),ce}var Ye,cr;function qi(){if(cr)return Ye;cr=1;const e=Fi(),n=["suggest","format","onState","validate","onRender","type"],a=()=>{};async function i(y=[],{onSubmit:l=a,onCancel:o=a}={}){const u={},h=i._override||{};y=[].concat(y);let d,s,f,v,r,p;const S=async(w,b,g=!1)=>{if(!(!g&&w.validate&&w.validate(b)!==!0))return w.format?await w.format(b,u):b};for(s of y)if({name:v,type:r}=s,typeof r=="function"&&(r=await r(d,{...u},s),s.type=r),!!r){for(let w in s){if(n.includes(w))continue;let b=s[w];s[w]=typeof b=="function"?await b(d,{...u},p):b}if(p=s,typeof s.message!="string")throw new Error("prompt message is required");if({name:v,type:r}=s,e[r]===void 0)throw new Error(`prompt type (${r}) is not defined`);if(h[s.name]!==void 0&&(d=await S(s,h[s.name]),d!==void 0)){u[v]=d;continue}try{d=i._injected?c(i._injected,s.initial):await e[r](s),u[v]=d=await S(s,d,!0),f=await l(s,d,u)}catch{f=!await o(s,u)}if(f)return u}return u}function c(y,l){const o=y.shift();if(o instanceof Error)throw o;return o===void 0?l:o}function m(y){i._injected=(i._injected||[]).concat(y)}function t(y){i._override=Object.assign({},y)}return Ye=Object.assign(i,{prompt:i,prompts:e,inject:m,override:t}),Ye}var Di=qi();const Ri=Ot(Di);var Ue={},X={},lr;function N(){return lr||(lr=1,X.fromCallback=function(e){return Object.defineProperty(function(...n){if(typeof n[n.length-1]=="function")e.apply(this,n);else return new Promise((a,i)=>{n.push((c,m)=>c!=null?i(c):a(m)),e.apply(this,n)})},"name",{value:e.name})},X.fromPromise=function(e){return Object.defineProperty(function(...n){const a=n[n.length-1];if(typeof a!="function")return e.apply(this,n);n.pop(),e.apply(this,n).then(i=>a(null,i),a)},"name",{value:e.name})}),X}var He,hr;function Mi(){if(hr)return He;hr=1;var e=ei,n=process.cwd,a=null,i=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return a||(a=n.call(process)),a};try{process.cwd()}catch{}if(typeof process.chdir=="function"){var c=process.chdir;process.chdir=function(t){a=null,c.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,c)}He=m;function m(t){e.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&y(t),t.lutimes||l(t),t.chown=h(t.chown),t.fchown=h(t.fchown),t.lchown=h(t.lchown),t.chmod=o(t.chmod),t.fchmod=o(t.fchmod),t.lchmod=o(t.lchmod),t.chownSync=d(t.chownSync),t.fchownSync=d(t.fchownSync),t.lchownSync=d(t.lchownSync),t.chmodSync=u(t.chmodSync),t.fchmodSync=u(t.fchmodSync),t.lchmodSync=u(t.lchmodSync),t.stat=s(t.stat),t.fstat=s(t.fstat),t.lstat=s(t.lstat),t.statSync=f(t.statSync),t.fstatSync=f(t.fstatSync),t.lstatSync=f(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(r,p,S){S&&process.nextTick(S)},t.lchmodSync=function(){}),t.chown&&!t.lchown&&(t.lchown=function(r,p,S,w){w&&process.nextTick(w)},t.lchownSync=function(){}),i==="win32"&&(t.rename=typeof t.rename!="function"?t.rename:function(r){function p(S,w,b){var g=Date.now(),x=0;r(S,w,function k(E){if(E&&(E.code==="EACCES"||E.code==="EPERM"||E.code==="EBUSY")&&Date.now()-g<6e4){setTimeout(function(){t.stat(w,function(P,O){P&&P.code==="ENOENT"?r(S,w,k):b(E)})},x),x<100&&(x+=10);return}b&&b(E)})}return Object.setPrototypeOf&&Object.setPrototypeOf(p,r),p}(t.rename)),t.read=typeof t.read!="function"?t.read:function(r){function p(S,w,b,g,x,k){var E;if(k&&typeof k=="function"){var P=0;E=function(O,G,ie){if(O&&O.code==="EAGAIN"&&P<10)return P++,r.call(t,S,w,b,g,x,E);k.apply(this,arguments)}}return r.call(t,S,w,b,g,x,E)}return Object.setPrototypeOf&&Object.setPrototypeOf(p,r),p}(t.read),t.readSync=typeof t.readSync!="function"?t.readSync:function(r){return function(p,S,w,b,g){for(var x=0;;)try{return r.call(t,p,S,w,b,g)}catch(k){if(k.code==="EAGAIN"&&x<10){x++;continue}throw k}}}(t.readSync);function y(r){r.lchmod=function(p,S,w){r.open(p,e.O_WRONLY|e.O_SYMLINK,S,function(b,g){if(b){w&&w(b);return}r.fchmod(g,S,function(x){r.close(g,function(k){w&&w(x||k)})})})},r.lchmodSync=function(p,S){var w=r.openSync(p,e.O_WRONLY|e.O_SYMLINK,S),b=!0,g;try{g=r.fchmodSync(w,S),b=!1}finally{if(b)try{r.closeSync(w)}catch{}else r.closeSync(w)}return g}}function l(r){e.hasOwnProperty("O_SYMLINK")&&r.futimes?(r.lutimes=function(p,S,w,b){r.open(p,e.O_SYMLINK,function(g,x){if(g){b&&b(g);return}r.futimes(x,S,w,function(k){r.close(x,function(E){b&&b(k||E)})})})},r.lutimesSync=function(p,S,w){var b=r.openSync(p,e.O_SYMLINK),g,x=!0;try{g=r.futimesSync(b,S,w),x=!1}finally{if(x)try{r.closeSync(b)}catch{}else r.closeSync(b)}return g}):r.futimes&&(r.lutimes=function(p,S,w,b){b&&process.nextTick(b)},r.lutimesSync=function(){})}function o(r){return r&&function(p,S,w){return r.call(t,p,S,function(b){v(b)&&(b=null),w&&w.apply(this,arguments)})}}function u(r){return r&&function(p,S){try{return r.call(t,p,S)}catch(w){if(!v(w))throw w}}}function h(r){return r&&function(p,S,w,b){return r.call(t,p,S,w,function(g){v(g)&&(g=null),b&&b.apply(this,arguments)})}}function d(r){return r&&function(p,S,w){try{return r.call(t,p,S,w)}catch(b){if(!v(b))throw b}}}function s(r){return r&&function(p,S,w){typeof S=="function"&&(w=S,S=null);function b(g,x){x&&(x.uid<0&&(x.uid+=4294967296),x.gid<0&&(x.gid+=4294967296)),w&&w.apply(this,arguments)}return S?r.call(t,p,S,b):r.call(t,p,b)}}function f(r){return r&&function(p,S){var w=S?r.call(t,p,S):r.call(t,p);return w&&(w.uid<0&&(w.uid+=4294967296),w.gid<0&&(w.gid+=4294967296)),w}}function v(r){if(!r||r.code==="ENOSYS")return!0;var p=!process.getuid||process.getuid()!==0;return!!(p&&(r.code==="EINVAL"||r.code==="EPERM"))}}return He}var Be,dr;function Ti(){if(dr)return Be;dr=1;var e=ti.Stream;Be=n;function n(a){return{ReadStream:i,WriteStream:c};function i(m,t){if(!(this instanceof i))return new i(m,t);e.call(this);var y=this;this.path=m,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,t=t||{};for(var l=Object.keys(t),o=0,u=l.length;o<u;o++){var h=l[o];this[h]=t[h]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){y._read()});return}a.open(this.path,this.flags,this.mode,function(d,s){if(d){y.emit("error",d),y.readable=!1;return}y.fd=s,y.emit("open",s),y._read()})}function c(m,t){if(!(this instanceof c))return new c(m,t);e.call(this),this.path=m,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,t=t||{};for(var y=Object.keys(t),l=0,o=y.length;l<o;l++){var u=y[l];this[u]=t[u]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=a.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}return Be}var Ve,fr;function Ci(){if(fr)return Ve;fr=1,Ve=n;var e=Object.getPrototypeOf||function(a){return a.__proto__};function n(a){if(a===null||typeof a!="object")return a;if(a instanceof Object)var i={__proto__:e(a)};else var i=Object.create(null);return Object.getOwnPropertyNames(a).forEach(function(c){Object.defineProperty(i,c,Object.getOwnPropertyDescriptor(a,c))}),i}return Ve}var ee,mr;function Z(){if(mr)return ee;mr=1;var e=$t,n=Mi(),a=Ti(),i=Ci(),c=ri,m,t;typeof Symbol=="function"&&typeof Symbol.for=="function"?(m=Symbol.for("graceful-fs.queue"),t=Symbol.for("graceful-fs.previous")):(m="___graceful-fs.queue",t="___graceful-fs.previous");function y(){}function l(r,p){Object.defineProperty(r,m,{get:function(){return p}})}var o=y;if(c.debuglog?o=c.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(o=function(){var r=c.format.apply(c,arguments);r="GFS4: "+r.split(/\n/).join(`
GFS4: `),console.error(r)}),!e[m]){var u=ue[m]||[];l(e,u),e.close=function(r){function p(S,w){return r.call(e,S,function(b){b||f(),typeof w=="function"&&w.apply(this,arguments)})}return Object.defineProperty(p,t,{value:r}),p}(e.close),e.closeSync=function(r){function p(S){r.apply(e,arguments),f()}return Object.defineProperty(p,t,{value:r}),p}(e.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){o(e[m]),ii.equal(e[m].length,0)})}ue[m]||l(ue,e[m]),ee=h(i(e)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!e.__patched&&(ee=h(e),e.__patched=!0);function h(r){n(r),r.gracefulify=h,r.createReadStream=Vr,r.createWriteStream=Gr;var p=r.readFile;r.readFile=S;function S($,q,F){return typeof q=="function"&&(F=q,q=null),_($,q,F);function _(I,C,M,T){return p(I,C,function(D){D&&(D.code==="EMFILE"||D.code==="ENFILE")?d([_,[I,C,M],D,T||Date.now(),Date.now()]):typeof M=="function"&&M.apply(this,arguments)})}}var w=r.writeFile;r.writeFile=b;function b($,q,F,_){return typeof F=="function"&&(_=F,F=null),I($,q,F,_);function I(C,M,T,D,j){return w(C,M,T,function(R){R&&(R.code==="EMFILE"||R.code==="ENFILE")?d([I,[C,M,T,D],R,j||Date.now(),Date.now()]):typeof D=="function"&&D.apply(this,arguments)})}}var g=r.appendFile;g&&(r.appendFile=x);function x($,q,F,_){return typeof F=="function"&&(_=F,F=null),I($,q,F,_);function I(C,M,T,D,j){return g(C,M,T,function(R){R&&(R.code==="EMFILE"||R.code==="ENFILE")?d([I,[C,M,T,D],R,j||Date.now(),Date.now()]):typeof D=="function"&&D.apply(this,arguments)})}}var k=r.copyFile;k&&(r.copyFile=E);function E($,q,F,_){return typeof F=="function"&&(_=F,F=0),I($,q,F,_);function I(C,M,T,D,j){return k(C,M,T,function(R){R&&(R.code==="EMFILE"||R.code==="ENFILE")?d([I,[C,M,T,D],R,j||Date.now(),Date.now()]):typeof D=="function"&&D.apply(this,arguments)})}}var P=r.readdir;r.readdir=G;var O=/^v[0-5]\./;function G($,q,F){typeof q=="function"&&(F=q,q=null);var _=O.test(process.version)?function(M,T,D,j){return P(M,I(M,T,D,j))}:function(M,T,D,j){return P(M,T,I(M,T,D,j))};return _($,q,F);function I(C,M,T,D){return function(j,R){j&&(j.code==="EMFILE"||j.code==="ENFILE")?d([_,[C,M,T],j,D||Date.now(),Date.now()]):(R&&R.sort&&R.sort(),typeof T=="function"&&T.call(this,j,R))}}}if(process.version.substr(0,4)==="v0.8"){var ie=a(r);H=ie.ReadStream,B=ie.WriteStream}var ne=r.ReadStream;ne&&(H.prototype=Object.create(ne.prototype),H.prototype.open=Hr);var se=r.WriteStream;se&&(B.prototype=Object.create(se.prototype),B.prototype.open=Br),Object.defineProperty(r,"ReadStream",{get:function(){return H},set:function($){H=$},enumerable:!0,configurable:!0}),Object.defineProperty(r,"WriteStream",{get:function(){return B},set:function($){B=$},enumerable:!0,configurable:!0});var Et=H;Object.defineProperty(r,"FileReadStream",{get:function(){return Et},set:function($){Et=$},enumerable:!0,configurable:!0});var Pt=B;Object.defineProperty(r,"FileWriteStream",{get:function(){return Pt},set:function($){Pt=$},enumerable:!0,configurable:!0});function H($,q){return this instanceof H?(ne.apply(this,arguments),this):H.apply(Object.create(H.prototype),arguments)}function Hr(){var $=this;oe($.path,$.flags,$.mode,function(q,F){q?($.autoClose&&$.destroy(),$.emit("error",q)):($.fd=F,$.emit("open",F),$.read())})}function B($,q){return this instanceof B?(se.apply(this,arguments),this):B.apply(Object.create(B.prototype),arguments)}function Br(){var $=this;oe($.path,$.flags,$.mode,function(q,F){q?($.destroy(),$.emit("error",q)):($.fd=F,$.emit("open",F))})}function Vr($,q){return new r.ReadStream($,q)}function Gr($,q){return new r.WriteStream($,q)}var Kr=r.open;r.open=oe;function oe($,q,F,_){return typeof F=="function"&&(_=F,F=null),I($,q,F,_);function I(C,M,T,D,j){return Kr(C,M,T,function(R,on){R&&(R.code==="EMFILE"||R.code==="ENFILE")?d([I,[C,M,T,D],R,j||Date.now(),Date.now()]):typeof D=="function"&&D.apply(this,arguments)})}}return r}function d(r){o("ENQUEUE",r[0].name,r[1]),e[m].push(r),v()}var s;function f(){for(var r=Date.now(),p=0;p<e[m].length;++p)e[m][p].length>2&&(e[m][p][3]=r,e[m][p][4]=r);v()}function v(){if(clearTimeout(s),s=void 0,e[m].length!==0){var r=e[m].shift(),p=r[0],S=r[1],w=r[2],b=r[3],g=r[4];if(b===void 0)o("RETRY",p.name,S),p.apply(null,S);else if(Date.now()-b>=6e4){o("TIMEOUT",p.name,S);var x=S.pop();typeof x=="function"&&x.call(null,w)}else{var k=Date.now()-g,E=Math.max(g-b,1),P=Math.min(E*1.2,100);k>=P?(o("RETRY",p.name,S),p.apply(null,S.concat([b]))):e[m].push(r)}s===void 0&&(s=setTimeout(v,0))}}return ee}var pr;function L(){return pr||(pr=1,function(e){const n=N().fromCallback,a=Z(),i=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(c=>typeof a[c]=="function");Object.assign(e,a),i.forEach(c=>{e[c]=n(a[c])}),e.exists=function(c,m){return typeof m=="function"?a.exists(c,m):new Promise(t=>a.exists(c,t))},e.read=function(c,m,t,y,l,o){return typeof o=="function"?a.read(c,m,t,y,l,o):new Promise((u,h)=>{a.read(c,m,t,y,l,(d,s,f)=>{if(d)return h(d);u({bytesRead:s,buffer:f})})})},e.write=function(c,m,...t){return typeof t[t.length-1]=="function"?a.write(c,m,...t):new Promise((y,l)=>{a.write(c,m,...t,(o,u,h)=>{if(o)return l(o);y({bytesWritten:u,buffer:h})})})},e.readv=function(c,m,...t){return typeof t[t.length-1]=="function"?a.readv(c,m,...t):new Promise((y,l)=>{a.readv(c,m,...t,(o,u,h)=>{if(o)return l(o);y({bytesRead:u,buffers:h})})})},e.writev=function(c,m,...t){return typeof t[t.length-1]=="function"?a.writev(c,m,...t):new Promise((y,l)=>{a.writev(c,m,...t,(o,u,h)=>{if(o)return l(o);y({bytesWritten:u,buffers:h})})})},typeof a.realpath.native=="function"?e.realpath.native=n(a.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")}(Ue)),Ue}var te={},Ge={},yr;function _i(){if(yr)return Ge;yr=1;const e=A;return Ge.checkPath=function(a){if(process.platform==="win32"&&/[<>:"|?*]/.test(a.replace(e.parse(a).root,""))){const c=new Error(`Path contains invalid characters: ${a}`);throw c.code="EINVAL",c}},Ge}var vr;function Ii(){if(vr)return te;vr=1;const e=L(),{checkPath:n}=_i(),a=i=>{const c={mode:511};return typeof i=="number"?i:{...c,...i}.mode};return te.makeDir=async(i,c)=>(n(i),e.mkdir(i,{mode:a(c),recursive:!0})),te.makeDirSync=(i,c)=>(n(i),e.mkdirSync(i,{mode:a(c),recursive:!0})),te}var Ke,gr;function U(){if(gr)return Ke;gr=1;const e=N().fromPromise,{makeDir:n,makeDirSync:a}=Ii(),i=e(n);return Ke={mkdirs:i,mkdirsSync:a,mkdirp:i,mkdirpSync:a,ensureDir:i,ensureDirSync:a},Ke}var ze,wr;function z(){if(wr)return ze;wr=1;const e=N().fromPromise,n=L();function a(i){return n.access(i).then(()=>!0).catch(()=>!1)}return ze={pathExists:e(a),pathExistsSync:n.existsSync},ze}var Qe,Sr;function br(){if(Sr)return Qe;Sr=1;const e=L(),n=N().fromPromise;async function a(c,m,t){const y=await e.open(c,"r+");let l=null;try{await e.futimes(y,m,t)}finally{try{await e.close(y)}catch(o){l=o}}if(l)throw l}function i(c,m,t){const y=e.openSync(c,"r+");return e.futimesSync(y,m,t),e.closeSync(y)}return Qe={utimesMillis:n(a),utimesMillisSync:i},Qe}var Ze,xr;function Q(){if(xr)return Ze;xr=1;const e=L(),n=A,a=N().fromPromise;function i(d,s,f){const v=f.dereference?r=>e.stat(r,{bigint:!0}):r=>e.lstat(r,{bigint:!0});return Promise.all([v(d),v(s).catch(r=>{if(r.code==="ENOENT")return null;throw r})]).then(([r,p])=>({srcStat:r,destStat:p}))}function c(d,s,f){let v;const r=f.dereference?S=>e.statSync(S,{bigint:!0}):S=>e.lstatSync(S,{bigint:!0}),p=r(d);try{v=r(s)}catch(S){if(S.code==="ENOENT")return{srcStat:p,destStat:null};throw S}return{srcStat:p,destStat:v}}async function m(d,s,f,v){const{srcStat:r,destStat:p}=await i(d,s,v);if(p){if(o(r,p)){const S=n.basename(d),w=n.basename(s);if(f==="move"&&S!==w&&S.toLowerCase()===w.toLowerCase())return{srcStat:r,destStat:p,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(r.isDirectory()&&!p.isDirectory())throw new Error(`Cannot overwrite non-directory '${s}' with directory '${d}'.`);if(!r.isDirectory()&&p.isDirectory())throw new Error(`Cannot overwrite directory '${s}' with non-directory '${d}'.`)}if(r.isDirectory()&&u(d,s))throw new Error(h(d,s,f));return{srcStat:r,destStat:p}}function t(d,s,f,v){const{srcStat:r,destStat:p}=c(d,s,v);if(p){if(o(r,p)){const S=n.basename(d),w=n.basename(s);if(f==="move"&&S!==w&&S.toLowerCase()===w.toLowerCase())return{srcStat:r,destStat:p,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(r.isDirectory()&&!p.isDirectory())throw new Error(`Cannot overwrite non-directory '${s}' with directory '${d}'.`);if(!r.isDirectory()&&p.isDirectory())throw new Error(`Cannot overwrite directory '${s}' with non-directory '${d}'.`)}if(r.isDirectory()&&u(d,s))throw new Error(h(d,s,f));return{srcStat:r,destStat:p}}async function y(d,s,f,v){const r=n.resolve(n.dirname(d)),p=n.resolve(n.dirname(f));if(p===r||p===n.parse(p).root)return;let S;try{S=await e.stat(p,{bigint:!0})}catch(w){if(w.code==="ENOENT")return;throw w}if(o(s,S))throw new Error(h(d,f,v));return y(d,s,p,v)}function l(d,s,f,v){const r=n.resolve(n.dirname(d)),p=n.resolve(n.dirname(f));if(p===r||p===n.parse(p).root)return;let S;try{S=e.statSync(p,{bigint:!0})}catch(w){if(w.code==="ENOENT")return;throw w}if(o(s,S))throw new Error(h(d,f,v));return l(d,s,p,v)}function o(d,s){return s.ino&&s.dev&&s.ino===d.ino&&s.dev===d.dev}function u(d,s){const f=n.resolve(d).split(n.sep).filter(r=>r),v=n.resolve(s).split(n.sep).filter(r=>r);return f.every((r,p)=>v[p]===r)}function h(d,s,f){return`Cannot ${f} '${d}' to a subdirectory of itself, '${s}'.`}return Ze={checkPaths:a(m),checkPathsSync:t,checkParentPaths:a(y),checkParentPathsSync:l,isSrcSubdir:u,areIdentical:o},Ze}var Xe,kr;function ji(){if(kr)return Xe;kr=1;const e=L(),n=A,{mkdirs:a}=U(),{pathExists:i}=z(),{utimesMillis:c}=br(),m=Q();async function t(v,r,p={}){typeof p=="function"&&(p={filter:p}),p.clobber="clobber"in p?!!p.clobber:!0,p.overwrite="overwrite"in p?!!p.overwrite:p.clobber,p.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001");const{srcStat:S,destStat:w}=await m.checkPaths(v,r,"copy",p);if(await m.checkParentPaths(v,S,r,"copy"),!await y(v,r,p))return;const g=n.dirname(r);await i(g)||await a(g),await l(w,v,r,p)}async function y(v,r,p){return p.filter?p.filter(v,r):!0}async function l(v,r,p,S){const b=await(S.dereference?e.stat:e.lstat)(r);if(b.isDirectory())return s(b,v,r,p,S);if(b.isFile()||b.isCharacterDevice()||b.isBlockDevice())return o(b,v,r,p,S);if(b.isSymbolicLink())return f(v,r,p,S);throw b.isSocket()?new Error(`Cannot copy a socket file: ${r}`):b.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${r}`):new Error(`Unknown file: ${r}`)}async function o(v,r,p,S,w){if(!r)return u(v,p,S,w);if(w.overwrite)return await e.unlink(S),u(v,p,S,w);if(w.errorOnExist)throw new Error(`'${S}' already exists`)}async function u(v,r,p,S){if(await e.copyFile(r,p),S.preserveTimestamps){h(v.mode)&&await d(p,v.mode);const w=await e.stat(r);await c(p,w.atime,w.mtime)}return e.chmod(p,v.mode)}function h(v){return(v&128)===0}function d(v,r){return e.chmod(v,r|128)}async function s(v,r,p,S,w){r||await e.mkdir(S);const b=await e.readdir(p);await Promise.all(b.map(async g=>{const x=n.join(p,g),k=n.join(S,g);if(!await y(x,k,w))return;const{destStat:P}=await m.checkPaths(x,k,"copy",w);return l(P,x,k,w)})),r||await e.chmod(S,v.mode)}async function f(v,r,p,S){let w=await e.readlink(r);if(S.dereference&&(w=n.resolve(process.cwd(),w)),!v)return e.symlink(w,p);let b=null;try{b=await e.readlink(p)}catch(g){if(g.code==="EINVAL"||g.code==="UNKNOWN")return e.symlink(w,p);throw g}if(S.dereference&&(b=n.resolve(process.cwd(),b)),m.isSrcSubdir(w,b))throw new Error(`Cannot copy '${w}' to a subdirectory of itself, '${b}'.`);if(m.isSrcSubdir(b,w))throw new Error(`Cannot overwrite '${b}' with '${w}'.`);return await e.unlink(p),e.symlink(w,p)}return Xe=t,Xe}var et,Er;function Ni(){if(Er)return et;Er=1;const e=Z(),n=A,a=U().mkdirsSync,i=br().utimesMillisSync,c=Q();function m(g,x,k){typeof k=="function"&&(k={filter:k}),k=k||{},k.clobber="clobber"in k?!!k.clobber:!0,k.overwrite="overwrite"in k?!!k.overwrite:k.clobber,k.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");const{srcStat:E,destStat:P}=c.checkPathsSync(g,x,"copy",k);if(c.checkParentPathsSync(g,E,x,"copy"),k.filter&&!k.filter(g,x))return;const O=n.dirname(x);return e.existsSync(O)||a(O),t(P,g,x,k)}function t(g,x,k,E){const O=(E.dereference?e.statSync:e.lstatSync)(x);if(O.isDirectory())return v(O,g,x,k,E);if(O.isFile()||O.isCharacterDevice()||O.isBlockDevice())return y(O,g,x,k,E);if(O.isSymbolicLink())return w(g,x,k,E);throw O.isSocket()?new Error(`Cannot copy a socket file: ${x}`):O.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${x}`):new Error(`Unknown file: ${x}`)}function y(g,x,k,E,P){return x?l(g,k,E,P):o(g,k,E,P)}function l(g,x,k,E){if(E.overwrite)return e.unlinkSync(k),o(g,x,k,E);if(E.errorOnExist)throw new Error(`'${k}' already exists`)}function o(g,x,k,E){return e.copyFileSync(x,k),E.preserveTimestamps&&u(g.mode,x,k),s(k,g.mode)}function u(g,x,k){return h(g)&&d(k,g),f(x,k)}function h(g){return(g&128)===0}function d(g,x){return s(g,x|128)}function s(g,x){return e.chmodSync(g,x)}function f(g,x){const k=e.statSync(g);return i(x,k.atime,k.mtime)}function v(g,x,k,E,P){return x?p(k,E,P):r(g.mode,k,E,P)}function r(g,x,k,E){return e.mkdirSync(k),p(x,k,E),s(k,g)}function p(g,x,k){e.readdirSync(g).forEach(E=>S(E,g,x,k))}function S(g,x,k,E){const P=n.join(x,g),O=n.join(k,g);if(E.filter&&!E.filter(P,O))return;const{destStat:G}=c.checkPathsSync(P,O,"copy",E);return t(G,P,O,E)}function w(g,x,k,E){let P=e.readlinkSync(x);if(E.dereference&&(P=n.resolve(process.cwd(),P)),g){let O;try{O=e.readlinkSync(k)}catch(G){if(G.code==="EINVAL"||G.code==="UNKNOWN")return e.symlinkSync(P,k);throw G}if(E.dereference&&(O=n.resolve(process.cwd(),O)),c.isSrcSubdir(P,O))throw new Error(`Cannot copy '${P}' to a subdirectory of itself, '${O}'.`);if(c.isSrcSubdir(O,P))throw new Error(`Cannot overwrite '${O}' with '${P}'.`);return b(P,k)}else return e.symlinkSync(P,k)}function b(g,x){return e.unlinkSync(x),e.symlinkSync(g,x)}return et=m,et}var tt,Pr;function rt(){if(Pr)return tt;Pr=1;const e=N().fromPromise;return tt={copy:e(ji()),copySync:Ni()},tt}var it,$r;function re(){if($r)return it;$r=1;const e=Z(),n=N().fromCallback;function a(c,m){e.rm(c,{recursive:!0,force:!0},m)}function i(c){e.rmSync(c,{recursive:!0,force:!0})}return it={remove:n(a),removeSync:i},it}var nt,Or;function Li(){if(Or)return nt;Or=1;const e=N().fromPromise,n=L(),a=A,i=U(),c=re(),m=e(async function(l){let o;try{o=await n.readdir(l)}catch{return i.mkdirs(l)}return Promise.all(o.map(u=>c.remove(a.join(l,u))))});function t(y){let l;try{l=n.readdirSync(y)}catch{return i.mkdirsSync(y)}l.forEach(o=>{o=a.join(y,o),c.removeSync(o)})}return nt={emptyDirSync:t,emptydirSync:t,emptyDir:m,emptydir:m},nt}var st,Fr;function Ai(){if(Fr)return st;Fr=1;const e=N().fromPromise,n=A,a=L(),i=U();async function c(t){let y;try{y=await a.stat(t)}catch{}if(y&&y.isFile())return;const l=n.dirname(t);let o=null;try{o=await a.stat(l)}catch(u){if(u.code==="ENOENT"){await i.mkdirs(l),await a.writeFile(t,"");return}else throw u}o.isDirectory()?await a.writeFile(t,""):await a.readdir(l)}function m(t){let y;try{y=a.statSync(t)}catch{}if(y&&y.isFile())return;const l=n.dirname(t);try{a.statSync(l).isDirectory()||a.readdirSync(l)}catch(o){if(o&&o.code==="ENOENT")i.mkdirsSync(l);else throw o}a.writeFileSync(t,"")}return st={createFile:e(c),createFileSync:m},st}var ot,qr;function Ji(){if(qr)return ot;qr=1;const e=N().fromPromise,n=A,a=L(),i=U(),{pathExists:c}=z(),{areIdentical:m}=Q();async function t(l,o){let u;try{u=await a.lstat(o)}catch{}let h;try{h=await a.lstat(l)}catch(f){throw f.message=f.message.replace("lstat","ensureLink"),f}if(u&&m(h,u))return;const d=n.dirname(o);await c(d)||await i.mkdirs(d),await a.link(l,o)}function y(l,o){let u;try{u=a.lstatSync(o)}catch{}try{const s=a.lstatSync(l);if(u&&m(s,u))return}catch(s){throw s.message=s.message.replace("lstat","ensureLink"),s}const h=n.dirname(o);return a.existsSync(h)||i.mkdirsSync(h),a.linkSync(l,o)}return ot={createLink:e(t),createLinkSync:y},ot}var at,Dr;function Wi(){if(Dr)return at;Dr=1;const e=A,n=L(),{pathExists:a}=z(),i=N().fromPromise;async function c(t,y){if(e.isAbsolute(t)){try{await n.lstat(t)}catch(h){throw h.message=h.message.replace("lstat","ensureSymlink"),h}return{toCwd:t,toDst:t}}const l=e.dirname(y),o=e.join(l,t);if(await a(o))return{toCwd:o,toDst:t};try{await n.lstat(t)}catch(h){throw h.message=h.message.replace("lstat","ensureSymlink"),h}return{toCwd:t,toDst:e.relative(l,t)}}function m(t,y){if(e.isAbsolute(t)){if(!n.existsSync(t))throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}const l=e.dirname(y),o=e.join(l,t);if(n.existsSync(o))return{toCwd:o,toDst:t};if(!n.existsSync(t))throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:e.relative(l,t)}}return at={symlinkPaths:i(c),symlinkPathsSync:m},at}var ut,Rr;function Yi(){if(Rr)return ut;Rr=1;const e=L(),n=N().fromPromise;async function a(c,m){if(m)return m;let t;try{t=await e.lstat(c)}catch{return"file"}return t&&t.isDirectory()?"dir":"file"}function i(c,m){if(m)return m;let t;try{t=e.lstatSync(c)}catch{return"file"}return t&&t.isDirectory()?"dir":"file"}return ut={symlinkType:n(a),symlinkTypeSync:i},ut}var ct,Mr;function Ui(){if(Mr)return ct;Mr=1;const e=N().fromPromise,n=A,a=L(),{mkdirs:i,mkdirsSync:c}=U(),{symlinkPaths:m,symlinkPathsSync:t}=Wi(),{symlinkType:y,symlinkTypeSync:l}=Yi(),{pathExists:o}=z(),{areIdentical:u}=Q();async function h(s,f,v){let r;try{r=await a.lstat(f)}catch{}if(r&&r.isSymbolicLink()){const[b,g]=await Promise.all([a.stat(s),a.stat(f)]);if(u(b,g))return}const p=await m(s,f);s=p.toDst;const S=await y(p.toCwd,v),w=n.dirname(f);return await o(w)||await i(w),a.symlink(s,f,S)}function d(s,f,v){let r;try{r=a.lstatSync(f)}catch{}if(r&&r.isSymbolicLink()){const b=a.statSync(s),g=a.statSync(f);if(u(b,g))return}const p=t(s,f);s=p.toDst,v=l(p.toCwd,v);const S=n.dirname(f);return a.existsSync(S)||c(S),a.symlinkSync(s,f,v)}return ct={createSymlink:e(h),createSymlinkSync:d},ct}var lt,Tr;function Hi(){if(Tr)return lt;Tr=1;const{createFile:e,createFileSync:n}=Ai(),{createLink:a,createLinkSync:i}=Ji(),{createSymlink:c,createSymlinkSync:m}=Ui();return lt={createFile:e,createFileSync:n,ensureFile:e,ensureFileSync:n,createLink:a,createLinkSync:i,ensureLink:a,ensureLinkSync:i,createSymlink:c,createSymlinkSync:m,ensureSymlink:c,ensureSymlinkSync:m},lt}var ht,Cr;function dt(){if(Cr)return ht;Cr=1;function e(a,{EOL:i=`
`,finalEOL:c=!0,replacer:m=null,spaces:t}={}){const y=c?i:"";return JSON.stringify(a,m,t).replace(/\n/g,i)+y}function n(a){return Buffer.isBuffer(a)&&(a=a.toString("utf8")),a.replace(/^\uFEFF/,"")}return ht={stringify:e,stripBom:n},ht}var ft,_r;function Bi(){if(_r)return ft;_r=1;let e;try{e=Z()}catch{e=$t}const n=N(),{stringify:a,stripBom:i}=dt();async function c(h,d={}){typeof d=="string"&&(d={encoding:d});const s=d.fs||e,f="throws"in d?d.throws:!0;let v=await n.fromCallback(s.readFile)(h,d);v=i(v);let r;try{r=JSON.parse(v,d?d.reviver:null)}catch(p){if(f)throw p.message=`${h}: ${p.message}`,p;return null}return r}const m=n.fromPromise(c);function t(h,d={}){typeof d=="string"&&(d={encoding:d});const s=d.fs||e,f="throws"in d?d.throws:!0;try{let v=s.readFileSync(h,d);return v=i(v),JSON.parse(v,d.reviver)}catch(v){if(f)throw v.message=`${h}: ${v.message}`,v;return null}}async function y(h,d,s={}){const f=s.fs||e,v=a(d,s);await n.fromCallback(f.writeFile)(h,v,s)}const l=n.fromPromise(y);function o(h,d,s={}){const f=s.fs||e,v=a(d,s);return f.writeFileSync(h,v,s)}return ft={readFile:m,readFileSync:t,writeFile:l,writeFileSync:o},ft}var mt,Ir;function Vi(){if(Ir)return mt;Ir=1;const e=Bi();return mt={readJson:e.readFile,readJsonSync:e.readFileSync,writeJson:e.writeFile,writeJsonSync:e.writeFileSync},mt}var pt,jr;function yt(){if(jr)return pt;jr=1;const e=N().fromPromise,n=L(),a=A,i=U(),c=z().pathExists;async function m(y,l,o="utf-8"){const u=a.dirname(y);return await c(u)||await i.mkdirs(u),n.writeFile(y,l,o)}function t(y,...l){const o=a.dirname(y);n.existsSync(o)||i.mkdirsSync(o),n.writeFileSync(y,...l)}return pt={outputFile:e(m),outputFileSync:t},pt}var vt,Nr;function Gi(){if(Nr)return vt;Nr=1;const{stringify:e}=dt(),{outputFile:n}=yt();async function a(i,c,m={}){const t=e(c,m);await n(i,t,m)}return vt=a,vt}var gt,Lr;function Ki(){if(Lr)return gt;Lr=1;const{stringify:e}=dt(),{outputFileSync:n}=yt();function a(i,c,m){const t=e(c,m);n(i,t,m)}return gt=a,gt}var wt,Ar;function zi(){if(Ar)return wt;Ar=1;const e=N().fromPromise,n=Vi();return n.outputJson=e(Gi()),n.outputJsonSync=Ki(),n.outputJSON=n.outputJson,n.outputJSONSync=n.outputJsonSync,n.writeJSON=n.writeJson,n.writeJSONSync=n.writeJsonSync,n.readJSON=n.readJson,n.readJSONSync=n.readJsonSync,wt=n,wt}var St,Jr;function Qi(){if(Jr)return St;Jr=1;const e=L(),n=A,{copy:a}=rt(),{remove:i}=re(),{mkdirp:c}=U(),{pathExists:m}=z(),t=Q();async function y(u,h,d={}){const s=d.overwrite||d.clobber||!1,{srcStat:f,isChangingCase:v=!1}=await t.checkPaths(u,h,"move",d);await t.checkParentPaths(u,f,h,"move");const r=n.dirname(h);return n.parse(r).root!==r&&await c(r),l(u,h,s,v)}async function l(u,h,d,s){if(!s){if(d)await i(h);else if(await m(h))throw new Error("dest already exists.")}try{await e.rename(u,h)}catch(f){if(f.code!=="EXDEV")throw f;await o(u,h,d)}}async function o(u,h,d){return await a(u,h,{overwrite:d,errorOnExist:!0,preserveTimestamps:!0}),i(u)}return St=y,St}var bt,Wr;function Zi(){if(Wr)return bt;Wr=1;const e=Z(),n=A,a=rt().copySync,i=re().removeSync,c=U().mkdirpSync,m=Q();function t(h,d,s){s=s||{};const f=s.overwrite||s.clobber||!1,{srcStat:v,isChangingCase:r=!1}=m.checkPathsSync(h,d,"move",s);return m.checkParentPathsSync(h,v,d,"move"),y(d)||c(n.dirname(d)),l(h,d,f,r)}function y(h){const d=n.dirname(h);return n.parse(d).root===d}function l(h,d,s,f){if(f)return o(h,d,s);if(s)return i(d),o(h,d,s);if(e.existsSync(d))throw new Error("dest already exists.");return o(h,d,s)}function o(h,d,s){try{e.renameSync(h,d)}catch(f){if(f.code!=="EXDEV")throw f;return u(h,d,s)}}function u(h,d,s){return a(h,d,{overwrite:s,errorOnExist:!0,preserveTimestamps:!0}),i(h)}return bt=t,bt}var xt,Yr;function Xi(){if(Yr)return xt;Yr=1;const e=N().fromPromise;return xt={move:e(Qi()),moveSync:Zi()},xt}var kt,Ur;function en(){return Ur||(Ur=1,kt={...L(),...rt(),...Li(),...Hi(),...zi(),...U(),...Xi(),...yt(),...z(),...re()}),kt}var tn=en();const rn=Ot(tn);async function nn(){try{const e=await Ri([{type:"text",name:"projectName",message:"What is the name of project ?",validate:t=>sn(t)||"Invalid project name"},{type:"select",name:"template",message:"Pick a project template",choices:[{title:"React",description:"This a react project template",value:"template-react"},{title:"Next",description:"This a next project template",value:"template-next"}],initial:0}]),{projectName:n,template:a}=e,i=Zr(import.meta.url),c=`${Xr(i)}/${a}`,m=`${process.cwd()}/${n}`;ae.log(c,m),await rn.copy(c,m)}catch(e){ae.error(e)}}function sn(e){return/^(?:@[a-z\d\-*~][a-z\d\-*._~]*\/)?[a-z\d\-~][a-z\d\-._~]*$/.test(e)}nn().catch(e=>{ae.error(e)});
